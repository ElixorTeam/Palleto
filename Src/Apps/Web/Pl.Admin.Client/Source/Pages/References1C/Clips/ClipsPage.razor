@* @using Blazor.Heroicons.Outline *@
@* @using Pl.Admin.Client.Source.Shared.Api.Web.Endpoints *@
@* @using Pl.Admin.Client.Source.Shared.Constants *@
@* @using Pl.Admin.Models *@
@* @inherits SectionDataGridBase<PackageDto> *@
@* @attribute [Route(Urls.Clips)] *@
@* @rendermode InteractiveServer *@
@* *@
@* <PageTitle>Admin - @Localizer["SectionClips"]</PageTitle> *@
@* *@
@* <UseParameterlessEndpoint Endpoint="@References1CEndpoints.ClipsEndpoint" Options="@(DefaultEndpointOptions)" Context="clipsQuery"> *@
@*   <DataGridHeader> *@
@*     <span>@Localizer["SectionClips"]</span> *@
@*     <DataGridItemsCounter ItemsCount="@(clipsQuery.Data?.Length ?? 0)" IsLoading="clipsQuery.IsLoading"/> *@
@*     <DataGridActionReload OnClick="@clipsQuery.RefetchAsync" IsLoading="clipsQuery.IsFetching" /> *@
@*   </DataGridHeader> *@
@*   <DataGridWrapper> *@
@*     <DataGridContainer *@
@*       TItem="PackageDto" *@
@*       Items="@(clipsQuery.HasData ? clipsQuery.Data : [])" *@
@*       OnItemSelect="@(item => OpenUpdateFormModal(item))" *@
@*     > *@
@*       <ColumnsContent> *@
@*         <DataGridColumn *@
@*           Caption="@WsDataLocalizer["ColStatus"]" *@
@*           Width="5%" *@
@*           Filterable="false" *@
@*         > *@
@*           <DisplayTemplate> *@
@*             @if (context.Name.StartsWith('—è')) *@
@*             { *@
@*             <div class="w-full flex items-center justify-center"> *@
@*               <TrashIcon class="text-red-600 size-5"/> *@
@*             </div> *@
@*             } *@
@*           </DisplayTemplate> *@
@*         </DataGridColumn> *@
@*         <DataGridColumn *@
@*           Caption="@WsDataLocalizer["ColChangeDt"]" *@
@*           Field="@nameof(PackageDto.ChangeDt)" *@
@*           Width="20%"/> *@
@*         <DataGridColumn *@
@*           Caption="@WsDataLocalizer["ColName"]" *@
@*           Field="@nameof(PackageDto.Name)" *@
@*           Width="55%"/> *@
@*         <DataGridColumn *@
@*           Caption="@WsDataLocalizer["ColWeight"]" *@
@*           Field="@nameof(PackageDto.Weight)" *@
@*           Width="20%"/> *@
@*       </ColumnsContent> *@
@*       <ContextMenuContent> *@
@*         <DataGridActionViewItem OnClick="@(() => ContextFuncWrapper(context.Item, context.CloseContextMenu, async item => await OpenUpdateFormModal(item)))" /> *@
@*         <DataGridActionOpenInNewTab OnClick="@(() => ContextFuncWrapper(context.Item, context.CloseContextMenu, async item => await OpenItemInNewTab(item)))" /> *@
@*       </ContextMenuContent> *@
@*     </DataGridContainer> *@
@*   </DataGridWrapper> *@
@* </UseParameterlessEndpoint> *@
@* *@
@* @code { *@
@*   #region Inject *@
@* *@
@*   [Inject] private IStringLocalizer<ApplicationResources> Localizer { get; set; } = default!; *@
@*   [Inject] private IStringLocalizer<WsDataResources> WsDataLocalizer { get; set; } = default!; *@
@*   [Inject] private References1CEndpoints References1CEndpoints { get; set; } = default!; *@
@*   [Inject] private IWebApi WebApi { get; set; } = default!; *@
@* *@
@*   #endregion *@
@* *@
@*   protected override async Task OpenUpdateFormModal(PackageDto item) => *@
@*     await OpenModalWithItem<ClipsViewDialog>(item); *@
@* *@
@*   protected override async Task OpenItemInNewTab(PackageDto item) *@
@*     => await OpenLinkInNewTab($"{Urls.Clips}?id={item.Id}"); *@
@* *@
@*   protected override Task<PackageDto> SearchByUidAction(Guid uid) => *@
@*     WebApi.GetClipByUid(uid); *@
@* } *@
